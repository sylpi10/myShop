{% extends "shop/base.html" %}

{% load static %}

{% block title %}
 shopping cart
{% endblock %}

{% block content %}

 <!--Main layout-->
  <main class="mt-5 pt-4">
    <div class="main-wrapper product-detail">
    <div class="container dark-grey-text mt-5">
            <h1 class="page-title">{{ product.name }}</h1>


      <!--Grid row-->
      <div class="row wow fadeIn">


        <div class="detail-slider">

                <div id="carouselExampleIndicators" class="carousel slide carousel-fade slider-detail" data-ride="carousel">


        <!--          pictures-->
                  <div class="carousel-inner carousel-detail-prod">
                    {% for p in photos %}
                    <div class="carousel-item {% if forloop.counter0 == 0 %} active {% endif %}">

                      <img class="d-block" src="{{p.smartImg.url}}" alt="slide image" width="540" height="540">
<!--                      <img class="d-block" src="{{p.image.url}}" alt="image slide">-->
                    </div>
                    {% endfor %}
                  </div>

                       <!--          thumbnails-->
                  <ol class="carousel-indicators">
                    {% for p in photos %}
                      <img data-target="#carouselExampleIndicators" data-slide-to="{{forloop.counter0}}"
                           class="{% if forloop.counter0 == 0 %} active {% endif %} mx-2 my-3 thumbnails-slider"
                           src="{{p.smartImg.url}}" alt="First slide" width="110">
                   {% endfor %}
                  </ol>
                </div>

          </div>


        <!--Grid column-->
        <div class="col-md-6 mb-4">

          <!--Content-->
          <div class="p-4">

            <div class="mb-3">
             
                <span class="badge badge-categ p-2 mr-1">{{ product.category }}</span>
            
<!--              <a href="">-->
<!--                <span class="badge blue p-2 mr-1">New</span>-->
<!--              </a>-->

            </div>

            <p class="lead">
              <span>{{ product.price }} €</span> <br>
              <!--<span>en stock : <strong> {{ product.quantity }}</strong></span>-->
            </p>

            <!--<p class="lead font-weight-bold">Description:</p>-->

            <p>{{ product.description|linebreaks }}</p>

            <form action="{% url 'cart:cart_add' product.id %}"
                  class="d-flex justify-content-left form-prod-detail" method="post">
              <!-- Default input -->
<!--                {{ cart_product_form }}-->

                <label for="id_quantity">Quantité: </label>
                <select name="quantity" id="id_quantity">
                 {% for nb in quantity %}
                   <option value="{{nb}}"> {{nb}} </option>
                {% endfor %}
                 </select>
                {% csrf_token %}
              <!--              <input type="hidden" name="update" value="False" id="id_update">-->

              <button type="submit" aria-label="Add" value="update" class="form-control add-to-cart">
                <i class="fa fa-cart-plus" aria-hidden="true"></i> Ajouter au panier
              </button>

            </form>

          </div>
          <!--Content-->

        </div>
        <!--Grid column-->

      </div>
      <!--Grid row-->

      <hr>

    </div>
    </div>
  </main>
  <!--Main layout-->


{% endblock %}